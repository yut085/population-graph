(this["webpackJsonppopulation-graph"]=this["webpackJsonppopulation-graph"]||[]).push([[0],{16:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),i=n(5),s=n.n(i),c=(n(16),n(9)),l=n(6),o=n(7),p=n(2),u=n(11),h=n(10),f=n(4),d=n.n(f),b=n(8),j=n.n(b),x={api:{myApi:"JCWV5aheW2CStnKItNg9TfmWHZXHibKAZZ86XJd2"},title:{titleText:""},xLabel:{title:{text:"\u5e74\u5ea6"}},yLabel:{title:{text:"\u4eba\u53e3\u6570"}},label:{connectorAllowed:!1},text:{graphTitle:"\u90fd\u9053\u5e9c\u770c\u5225\u4eba\u53e3\u63a8\u79fb\u30b0\u30e9\u30d5"},pref:{prefName:"\u90fd\u9053\u5e9c\u770c"},pointInterval:5,pointStart:1979},g={buttonStyle:{margin:"5px",display:"inline-block"},graphStyle:{textAlign:"center",backgroundColor:"#C0C0C0",fontSize:"30px"}},v=n(0),y=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).state={selected:Array(47).fill(!1),prefectures:{},series:[]},e.chagePrefectures=e.chagePrefectures.bind(Object(p.a)(e)),e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("https://opendata.resas-portal.go.jp/api/v1/prefectures",{headers:{"X-API-KEY":x.api.myApi}}).then((function(e){return e.json()})).then((function(t){e.setState({prefectures:t.result})}))}},{key:"chagePrefectures",value:function(e){var t=this,n=this.state.selected.slice();if(n[e]=!n[e],this.state.selected[e]){for(var r=this.state.series.slice(),a=0;a<r.length;a++)r[a].name==this.state.prefectures[e].prefName&&r.splice(a,1);this.setState({selected:n,series:r})}else fetch("https://opendata.resas-portal.go.jp/api/v1/population/sum/perYear?cityCode=-&prefCode=".concat(e+1),{headers:{"X-API-KEY":x.api.myApi}}).then((function(e){return e.json()})).then((function(r){var a=[];Object.keys(r.result.line.data).forEach((function(e){a.push(r.result.line.data[e].value)}));var i={name:t.state.prefectures[e].prefName,data:a};t.setState({selected:n,series:[].concat(Object(c.a)(t.state.series),[i])})}))}},{key:"renderButton",value:function(e){var t=this;return Object(v.jsxs)("div",{style:g.buttonStyle,children:[Object(v.jsx)("input",{type:"checkbox",checked:this.state.selected[e.prefCode-1],onChange:function(){return t.chagePrefectures(e.prefCode-1)}}),e.prefName]},e.prefCode)}},{key:"render",value:function(){var e=this,t=this.state.prefectures,n={title:{text:x.title.titleText},xAxis:{title:{text:x.xLabel.title.text}},yAxis:{title:{text:x.yLabel.title.text}},plotOptions:{series:{label:{connectorAllowed:x.label},pointInterval:x.pointInterval,pointStart:x.pointStart}},series:this.state.series};return Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{style:g.graphStyle,children:x.text.graphTitle}),Object(v.jsx)("div",{children:x.pref.prefName}),Object.keys(t).map((function(n){return e.renderButton(t[n])})),Object(v.jsx)(j.a,{highcharts:d.a,options:n})]})}}]),n}(r.Component),m=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,19)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),i(e),s(e)}))};s.a.render(Object(v.jsx)(a.a.StrictMode,{children:Object(v.jsx)(y,{})}),document.getElementById("root")),m()}},[[18,1,2]]]);
//# sourceMappingURL=main.20395be3.chunk.js.map